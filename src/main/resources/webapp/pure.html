<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <!-- OPTION 1: You can get React and ReactDOM from CDN like this... -->
            <script crossorigin src="https://unpkg.com/react@16/umd/react.production.min.js"></script>
            <script crossorigin src="https://unpkg.com/react-dom@16/umd/react-dom.production.min.js"></script>

        <!-- OPTION 2: React and ReactDOM are also available as a chunk from this service (if the react4xp-build-externals step is included in build.gradle):
        <script data-th-src="${portal.serviceUrl({'_service=react4xp-externals'})}"></script> -->

        <!-- This is needed either way: -->
        <script data-th-src="${portal.serviceUrl({'_service=react4xp-client'})}"></script>
    </head>

    <body>
        <h1>React4xp Starter: Standalone HTML</h1>

        <p><strong>Completely standalone client-side rendering</strong></p>
        <p>No data inserted from the controller, the client only uses the source HTML document and React4xp services:</p>

        <div id="color_thing"></div>
        <div id="clickable_thing"></div>

        <!-- Sets a global variable used by React4xp.CLIENT.renderWithDependencies below - the root path to the used services. Can be set anywhere before renderWithDependencies is called: -->
        <script data-th-text="|var SERVICE_URL_ROOT=`${portal.serviceUrl({'_service='})}`;|"></script>

        <!-- Actual rendering call: -->
        <script>
                React4xp.CLIENT.renderWithDependencies(
                    {
                        ColorThing: {
                            targetId: 'color_thing',
                            props: { color: "purple"}
                        },

                        'site/parts/04-chaining-example/04-chaining-example': {
                            targetId: 'clickable_thing',
                            props: { first: "Come On!", second: "Click Me Already!" },
                        },
                    },

                    // Demo callback:
                    function() { console.log("This callback is inserted and called after rendering."); }
                );
        </script>

    </body>
</html>
